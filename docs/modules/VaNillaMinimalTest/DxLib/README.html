<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>VaNilla Minimal Test - DxLib Implementation </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="VaNilla Minimal Test - DxLib Implementation ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/EndlessShirafu/VaNilla/blob/develop/Documents/docfx/modules/VaNillaMinimalTest/DxLib/README.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="vanilla-minimal-test---dxlib-implementation">VaNilla Minimal Test - DxLib Implementation</h1>

<p>VaNillaエンジンの最小構成でのDxLib実装です。</p>
<h2 id="ファイル構成">ファイル構成</h2>
<pre><code>DxLib/
├── README.md                    # このファイル
├── project/                     # プロジェクトファイル
│   ├── MinimalTest.sln         # Visual Studioソリューション
│   └── MinimalTest.csproj      # .NETプロジェクトファイル
├── code/                       # ソースコード
│   ├── Main.cs                 # エントリーポイント
│   └── MinimalTestObject.cs    # テスト用オブジェクト
├── VaNillaSettings/            # 設定ファイル
│   └── VaNillaSettings.yaml    # VaNilla設定
├── DxLibDotNet/               # DxLib関連DLL
│   ├── DxLibW.dll
│   ├── DxLibW_x64.dll
│   └── DxLibWDotNet.dll
├── update_code.bat            # コード生成スクリプト
├── install_and_run_test.bat   # 自動セットアップ・実行
└── build_and_run.bat          # ビルド・実行
</code></pre>
<h2 id="使用モジュール最小構成">使用モジュール（最小構成）</h2>
<h3 id="必須コアモジュール">必須コアモジュール</h3>
<ul>
<li><strong>ImplementationDependency</strong> - DxLib実装基底</li>
<li><strong>SupremeArbiter</strong> - エンジンの初期化・実行・終了制御</li>
<li><strong>Object</strong> - オブジェクトシステムの基底クラス</li>
<li><strong>ExpresserComponent</strong> - コンポーネントシステム</li>
<li><strong>ObjectExecutor</strong> - オブジェクトとコンポーネントの実行管理</li>
<li><strong>ExecuteManager</strong> - 実行管理基底</li>
<li><strong>TimeManager</strong> - 時間管理</li>
<li><strong>ModuleVersionUtility</strong> - モジュールバージョン</li>
<li><strong>DataStructure</strong> - 共通データ構造</li>
<li><strong>DebugLogger</strong> - デバッグ出力</li>
</ul>
<h2 id="実行手順">実行手順</h2>
<h3 id="1-自動セットアップ推奨">1. 自動セットアップ（推奨）</h3>
<pre><code class="lang-cmd">install_and_run_test.bat
</code></pre>
<p>このスクリプトが以下を自動実行：</p>
<ul>
<li>.NET 9 SDKの確認</li>
<li>Pythonの確認</li>
<li>コード生成の実行</li>
<li>プロジェクトのビルド</li>
<li>テストの実行</li>
</ul>
<h3 id="2-手動実行">2. 手動実行</h3>
<h4 id="コード生成">コード生成</h4>
<pre><code class="lang-cmd">update_code.bat
</code></pre>
<h4 id="ビルドと実行">ビルドと実行</h4>
<pre><code class="lang-cmd">build_and_run.bat
</code></pre>
<p>または：</p>
<pre><code class="lang-cmd">dotnet build project\MinimalTest.csproj
dotnet run --project project\MinimalTest.csproj
</code></pre>
<h2 id="期待される実行結果">期待される実行結果</h2>
<pre><code>VaNilla Minimal Test starting...
MinimalTestObject: SetUp called
MinimalTestObject: Basic components added
Setting up minimal test objects...
Created test object: MinimalTestObject
Minimal test setup complete.
Frame: 60, Running for 1 seconds
MinimalTestComponent: Execute count = 60
Frame: 120, Running for 2 seconds
MinimalTestComponent: Execute count = 120
Frame: 180, Running for 3 seconds
MinimalTestComponent: Execute count = 180
MinimalTestComponent: Execute count = 240
MinimalTestComponent: Test completed, stopping execution
Frame: 240, Running for 4 seconds
Frame: 300, Running for 5 seconds
Minimal test completed successfully!
MinimalTestObject: TearDown called
VaNilla Engine shutdown complete.
</code></pre>
<h2 id="トラブルシューティング">トラブルシューティング</h2>
<h3 id="よくあるエラー">よくあるエラー</h3>
<ol>
<li><p><strong>「.NET 9 SDK not found」</strong></p>
<ul>
<li><a href="https://dotnet.microsoft.com/download/dotnet/9.0">.NET 9 SDK</a>をインストール</li>
</ul>
</li>
<li><p><strong>「Python not found」</strong></p>
<ul>
<li><a href="https://www.python.org/downloads/">Python 3.x</a>をインストール</li>
</ul>
</li>
<li><p><strong>「DxLib DLL not found」</strong></p>
<ul>
<li>DxLibDotNetフォルダにDLLファイルがあることを確認</li>
<li>必要に応じて元のVaNillaTestProjectからコピー</li>
</ul>
</li>
<li><p><strong>コード生成エラー</strong></p>
<ul>
<li>VaNillaSettings.yamlの構文を確認</li>
<li>update_code.batを再実行</li>
</ul>
</li>
</ol>
<h3 id="デバッグ方法">デバッグ方法</h3>
<h4 id="visual-studioでのデバッグ">Visual Studioでのデバッグ</h4>
<ol>
<li><code>project\MinimalTest.sln</code>をVisual Studioで開く</li>
<li>ブレークポイントを設定</li>
<li>F5キーでデバッグ開始</li>
</ol>
<h4 id="ログレベルの調整">ログレベルの調整</h4>
<pre><code class="lang-csharp">// Main.csでより詳細なログを有効にする
Logger.LogLevel = LogLevel.Debug;
</code></pre>
<h2 id="カスタマイズ例">カスタマイズ例</h2>
<h3 id="1-実行時間の変更">1. 実行時間の変更</h3>
<p><code>Main.cs</code>の終了条件を変更：</p>
<pre><code class="lang-csharp">// 600フレーム（10秒）で終了
if (frameCount &gt;= 600)
{
    Logger.Log(&quot;Extended test completed!&quot;);
    break;
}
</code></pre>
<h3 id="2-新しいテストオブジェクトの追加">2. 新しいテストオブジェクトの追加</h3>
<ol>
<li>新しいクラスを作成：</li>
</ol>
<pre><code class="lang-csharp">public class CustomTestObject : Object
{
    public override void SetUp()
    {
        Logger.Log(&quot;CustomTestObject created!&quot;);
    }
}
</code></pre>
<ol start="2">
<li><code>Main.cs</code>のtest_listに追加：</li>
</ol>
<pre><code class="lang-csharp">static readonly System.Type[] test_list = {
    typeof(VaNilla.MinimalTest.MinimalTestObject),
    typeof(VaNilla.MinimalTest.CustomTestObject),  // 追加
};
</code></pre>
<h3 id="3-vanillasettingsyamlの設定変更">3. VaNillaSettings.yamlの設定変更</h3>
<pre><code class="lang-yaml"># フレームレートを30FPSに変更
supreme_arbiter_setting:
  target_fps: 30.0
  
# ウィンドウタイトルを変更
  window_title: &quot;My Custom Minimal Test&quot;
</code></pre>
<h2 id="次のステップ">次のステップ</h2>
<p>このMinimal Testが正常に動作したら、以下の機能を段階的に追加できます：</p>
<ol>
<li><strong>描画機能</strong> - Renderer、TextureResourceManagerモジュールを追加</li>
<li><strong>入力処理</strong> - KeyboardInput、MouseInputモジュールを追加</li>
<li><strong>サウンド</strong> - SoundManagerモジュールを追加</li>
<li><strong>衝突判定</strong> - Collisionモジュールを追加</li>
</ol>
<p>詳細は<a href="../Documentation/Architecture.md">../Documentation/Architecture.md</a>を参照してください。</p>
<hr>
<p><em>このMinimal Testを通じて、VaNillaエンジンの基本的な仕組みを理解し、段階的により複雑な機能を学習してください。</em></p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/EndlessShirafu/VaNilla/blob/develop/Documents/docfx/modules/VaNillaMinimalTest/DxLib/README.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>

<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>STEP 3: å¼¾ã‚’æ’ƒã¦ã‚‹ã‚ˆã†ã«ã—ã‚ˆã† </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="STEP 3: å¼¾ã‚’æ’ƒã¦ã‚‹ã‚ˆã†ã«ã—ã‚ˆã† ">
      
      
      <link rel="icon" href="../../../../favicon.ico">
      <link rel="stylesheet" href="../../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../../public/main.css">
      <meta name="docfx:navrel" content="../../../../toc.html">
      <meta name="docfx:tocrel" content="../../../../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/EndlessShirafu/VaNilla/blob/feature/apply-net10-and-csharp14/Documents/docfx/modules/VaNillaTutorial/BasicShootEmUp/STEP3_Shooting/README.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../../index.html">
            <img id="logo" class="svg" src="../../../../logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="step-3-å¼¾ã‚’æ’ƒã¦ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†">STEP 3: å¼¾ã‚’æ’ƒã¦ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†</h1>

<p>ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§ã¯ã€ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å¼¾ã‚’ç™ºå°„ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã—ã¾ã™ã€‚ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªå¼¾ã®ç®¡ç†æ–¹æ³•ã‚‚å­¦ã³ã¾ã™ã€‚</p>
<h2 id="-ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶ã“ã¨">ğŸ¯ ã“ã®ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶ã“ã¨</h2>
<ul>
<li>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å‹•çš„ç”Ÿæˆã¨å‰Šé™¤</li>
<li>ObjectFactoryã‚’ä½¿ã£ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ç®¡ç†</li>
<li>è¤‡æ•°ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®é€£æº</li>
<li>ç”»é¢å¤–åˆ¤å®šã¨è‡ªå‹•å‰Šé™¤</li>
</ul>
<h2 id="-æ“ä½œæ–¹æ³•">ğŸ® æ“ä½œæ–¹æ³•</h2>
<ul>
<li><strong>çŸ¢å°ã‚­ãƒ¼</strong>: ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ç§»å‹•</li>
<li><strong>Shiftã‚­ãƒ¼</strong>: ä½é€Ÿç§»å‹•</li>
<li><strong>ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼</strong>: å¼¾ã‚’ç™ºå°„</li>
<li><strong>ESCã‚­ãƒ¼</strong>: çµ‚äº†</li>
</ul>
<h2 id="-æ–°ã—ãè¿½åŠ ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«">ğŸ“ æ–°ã—ãè¿½åŠ ã™ã‚‹ãƒ•ã‚¡ã‚¤ãƒ«</h2>
<pre><code>STEP3_Shooting/
â”œâ”€â”€ assets/
â”‚   â””â”€â”€ image/
â”‚       â”œâ”€â”€ player.png      # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç”»åƒ
â”‚       â””â”€â”€ bullet.png      # å¼¾ã®ç”»åƒï¼ˆ8x16ãƒ”ã‚¯ã‚»ãƒ«ï¼‰
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ Game.cs            # æ›´æ–°
â”‚   â”œâ”€â”€ Player.cs          # æ›´æ–°
â”‚   â””â”€â”€ Bullet.cs          # æ–°è¦ï¼šå¼¾ã‚¯ãƒ©ã‚¹
â””â”€â”€ VaNillaSettings/
    â””â”€â”€ VaNillaSettings.yaml # æ›´æ–°
</code></pre>
<h2 id="-ã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…">ğŸ’» ã‚³ãƒ¼ãƒ‰ã®å®Ÿè£…</h2>
<h3 id="1-bulletcs---å¼¾ã‚¯ãƒ©ã‚¹ã®ä½œæˆ">1. Bullet.cs - å¼¾ã‚¯ãƒ©ã‚¹ã®ä½œæˆ</h3>
<p><code>src/Bullet.cs</code>ã‚’ä½œæˆã—ã¾ã™ï¼š</p>
<pre><code class="lang-csharp">using VaNilla;
using VaNilla.Render;
using VaNilla.Transform;
using VaNilla.Texture;
using VaNilla.ConditionalProcessor;
using VaNilla.Time;

namespace Tutorial
{
    /// &lt;summary&gt;
    /// å¼¾ã‚’è¡¨ã™ã‚¯ãƒ©ã‚¹
    /// ç”»é¢å¤–ã«å‡ºãŸã‚‰è‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã‚‹
    /// &lt;/summary&gt;
    public class Bullet : BasicObject, HasPosition, HasTexture, 
                         FromObjectFactoryCreation, ScreenOutSelfDestruction
    {
        // === HasPositionã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ===
        public Point2 Position { get; set; }
        
        // === HasTextureã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ===
        private TextureResource texture;
        public TextureResource Texture 
        { 
            get =&gt; texture;
            set =&gt; texture = value;
        }
        
        // === FromObjectFactoryCreationã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ===
        // ObjectFactoryã§ä½œæˆã•ã‚ŒãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™
        
        // === ScreenOutSelfDestructionã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ===
        // ç”»é¢å¤–ã«å‡ºãŸã‚‰è‡ªå‹•å‰Šé™¤ã•ã‚Œã‚‹æ©Ÿèƒ½
        public int ScreenMargin { get; set; } = 50;  // ç”»é¢å¤–åˆ¤å®šã®ãƒãƒ¼ã‚¸ãƒ³
        
        // å¼¾ã®é€Ÿåº¦ï¼ˆãƒ”ã‚¯ã‚»ãƒ«/ç§’ï¼‰
        private const float BULLET_SPEED = 500.0f;
        
        /// &lt;summary&gt;
        /// å¼¾ã‚’æŒ‡å®šä½ç½®ã«ç”Ÿæˆ
        /// &lt;/summary&gt;
        public void Initialize(int x, int y)
        {
            Position = new Point2(x, y);
            
            // åˆå›ã®ã¿ãƒ†ã‚¯ã‚¹ãƒãƒ£ã‚’ãƒ­ãƒ¼ãƒ‰
            if (Texture == null)
            {
                Texture = TextureResourceManager.GetTextureResource(TextureResourceType.Bullet);
            }
        }
        
        public override void Setup()
        {
            // ObjectFactoryã‹ã‚‰ç”Ÿæˆã•ã‚Œã‚‹å ´åˆã€Initializeã§åˆæœŸåŒ–ã•ã‚Œã‚‹
        }
        
        public override void Update()
        {
            // ä¸Šæ–¹å‘ã«ç§»å‹•
            float moveAmount = BULLET_SPEED * TimeManager.DeltaTime;
            Position = new Point2(Position.X, Position.Y - (int)moveAmount);
            
            // ScreenOutSelfDestructionãŒè‡ªå‹•çš„ã«ç”»é¢å¤–åˆ¤å®šã‚’è¡Œã„ã€
            // ç”»é¢å¤–ã«å‡ºãŸã‚‰Deactivate()ã‚’å‘¼ã‚“ã§ãã‚Œã‚‹
        }
        
        public override void Draw()
        {
            // å¼¾ã‚’æç”»
            BasicRenderer.Render(this);
        }
        
        /// &lt;summary&gt;
        /// å¼¾ãŒä½¿ç”¨ã•ã‚Œãªããªã£ãŸæ™‚ã®å‡¦ç†
        /// &lt;/summary&gt;
        public override void OnDeactivate()
        {
            // ObjectFactoryã«è¿”å´ã•ã‚Œã‚‹å‰ã«å‘¼ã°ã‚Œã‚‹
            // å¿…è¦ã«å¿œã˜ã¦ãƒªã‚»ãƒƒãƒˆå‡¦ç†ã‚’è¡Œã†
            base.OnDeactivate();
        }
    }
}
</code></pre>
<h3 id="2-playercs---å°„æ’ƒæ©Ÿèƒ½ã®è¿½åŠ ">2. Player.cs - å°„æ’ƒæ©Ÿèƒ½ã®è¿½åŠ </h3>
<p><code>src/Player.cs</code>ã‚’æ›´æ–°ã—ã¾ã™ï¼š</p>
<pre><code class="lang-csharp">using VaNilla;
using VaNilla.Render;
using VaNilla.Transform;
using VaNilla.Texture;
using VaNilla.KeyConfig;
using VaNilla.Keyboard;
using VaNilla.Time;
using VaNilla.Math;
using VaNilla.ObjectFactory;

namespace Tutorial
{
    /// &lt;summary&gt;
    /// ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ï¼ˆè‡ªæ©Ÿï¼‰ã‚¯ãƒ©ã‚¹
    /// STEP3: å°„æ’ƒæ©Ÿèƒ½ã‚’è¿½åŠ 
    /// &lt;/summary&gt;
    public class Player : BasicObject, HasPosition, HasTexture
    {
        // === ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹ã®å®Ÿè£… ===
        public Point2 Position { get; set; }
        
        private TextureResource texture;
        public TextureResource Texture 
        { 
            get =&gt; texture;
            set =&gt; texture = value;
        }
        
        // === å®šæ•° ===
        private const float MOVE_SPEED = 200.0f;
        private const float SLOW_MOVE_SPEED = 80.0f;
        private const int PLAYER_SIZE = 32;
        
        // === å°„æ’ƒé–¢é€£ ===
        private const float FIRE_INTERVAL = 0.1f;  // å°„æ’ƒé–“éš”ï¼ˆç§’ï¼‰
        private float fireTimer = 0.0f;            // å°„æ’ƒã‚¿ã‚¤ãƒãƒ¼
        
        public override void Setup()
        {
            Position = new Point2(320, 400);
            Texture = TextureResourceManager.GetTextureResource(TextureResourceType.Player);
            
            Logger.Log(&quot;ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ä½œæˆ: ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å°„æ’ƒ&quot;);
        }
        
        public override void Update()
        {
            HandleMovement();
            HandleShooting();
        }
        
        private void HandleMovement()
        {
            // STEP2ã¨åŒã˜ç§»å‹•å‡¦ç†
            float currentSpeed = MOVE_SPEED;
            if (KeyboardInput.IsPushed(KeyCode.LeftShift) || 
                KeyboardInput.IsPushed(KeyCode.RightShift))
            {
                currentSpeed = SLOW_MOVE_SPEED;
            }
            
            float moveAmount = currentSpeed * TimeManager.DeltaTime;
            float dx = 0;
            float dy = 0;
            
            if (KeyboardInput.IsPushed(KeyCode.Left))
                dx = -moveAmount;
            else if (KeyboardInput.IsPushed(KeyCode.Right))
                dx = moveAmount;
            
            if (KeyboardInput.IsPushed(KeyCode.Up))
                dy = -moveAmount;
            else if (KeyboardInput.IsPushed(KeyCode.Down))
                dy = moveAmount;
            
            if (dx != 0 &amp;&amp; dy != 0)
            {
                dx *= 0.707f;
                dy *= 0.707f;
            }
            
            float newX = Position.X + dx;
            float newY = Position.Y + dy;
            
            newX = MathUtil.Clamp(newX, PLAYER_SIZE / 2, 640 - PLAYER_SIZE / 2);
            newY = MathUtil.Clamp(newY, PLAYER_SIZE / 2, 480 - PLAYER_SIZE / 2);
            
            Position = new Point2((int)newX, (int)newY);
        }
        
        /// &lt;summary&gt;
        /// å°„æ’ƒå‡¦ç†
        /// &lt;/summary&gt;
        private void HandleShooting()
        {
            // å°„æ’ƒã‚¿ã‚¤ãƒãƒ¼ã‚’æ›´æ–°
            fireTimer -= TimeManager.DeltaTime;
            
            // ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¦ã„ã¦ã€å°„æ’ƒå¯èƒ½ãªå ´åˆ
            if (KeyboardInput.IsPushed(KeyCode.Space) &amp;&amp; fireTimer &lt;= 0)
            {
                FireBullet();
                fireTimer = FIRE_INTERVAL;  // ã‚¿ã‚¤ãƒãƒ¼ãƒªã‚»ãƒƒãƒˆ
            }
        }
        
        /// &lt;summary&gt;
        /// å¼¾ã‚’ç™ºå°„
        /// &lt;/summary&gt;
        private void FireBullet()
        {
            // ObjectFactoryã‹ã‚‰å¼¾ã‚’å–å¾—ï¼ˆãƒ—ãƒ¼ãƒ«ã‹ã‚‰å†åˆ©ç”¨ã¾ãŸã¯æ–°è¦ä½œæˆï¼‰
            var bullet = ObjectFactory.Rent&lt;Bullet&gt;(ObjectTagEnum.Bullet);
            
            if (bullet != null)
            {
                // å¼¾ã‚’ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®å°‘ã—ä¸Šã«é…ç½®
                bullet.Initialize(Position.X, Position.Y - 20);
                
                // åŠ¹æœéŸ³ã‚’é³´ã‚‰ã™ï¼ˆSTEP8ã§å®Ÿè£…ï¼‰
                // SoundManager.PlaySE(SoundResourceType.Shot);
            }
        }
        
        public override void Draw()
        {
            BasicRenderer.Render(this);
        }
    }
}
</code></pre>
<h3 id="3-gamecs---å¼¾æ•°è¡¨ç¤ºã®è¿½åŠ ">3. Game.cs - å¼¾æ•°è¡¨ç¤ºã®è¿½åŠ </h3>
<p><code>src/Game.cs</code>ã‚’æ›´æ–°ã—ã¾ã™ï¼š</p>
<pre><code class="lang-csharp">using VaNilla;
using VaNilla.Renderer;
using VaNilla.Keyboard;
using VaNilla.Fps;
using VaNilla.SupremeArbiter;
using VaNilla.ObjectExecutor;

namespace Tutorial
{
    /// &lt;summary&gt;
    /// ã‚²ãƒ¼ãƒ ã®ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
    /// STEP3: å¼¾æ•°æƒ…å ±ã®è¡¨ç¤ºã‚’è¿½åŠ 
    /// &lt;/summary&gt;
    public class Game : BasicObject
    {
        private Player player;
        
        public override void Setup()
        {
            Logger.Log(&quot;STEP3: å¼¾ã‚’æ’ƒã¦ã‚‹ã‚ˆã†ã«ã—ã‚ˆã†&quot;);
            player = ObjectActivator.Activate&lt;Player&gt;();
        }

        public override void Update()
        {
            // ç”»é¢ã‚’ã‚¯ãƒªã‚¢
            Utils.ClearScreen((20, 20, 60));
            
            // ESCã‚­ãƒ¼ã§çµ‚äº†
            if (KeyboardInput.IsPushedMoment(KeyCode.Escape))
            {
                Logger.Log(&quot;ESCã‚­ãƒ¼ãŒæŠ¼ã•ã‚Œã¾ã—ãŸã€‚çµ‚äº†ã—ã¾ã™ã€‚&quot;);
                SupremeArbiter.Shutdown();
            }
        }

        public override void Draw()
        {
            // ã‚¿ã‚¤ãƒˆãƒ«
            Utils.DrawString(
                &quot;STEP 3: Shooting&quot;, 
                10, 10,
                (255, 255, 255)
            );
            
            // æ“ä½œèª¬æ˜
            Utils.DrawString(
                &quot;Arrow: Move | Space: Fire | Shift: Slow | ESC: Exit&quot;,
                10, 30,
                (200, 200, 200)
            );
            
            // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°æƒ…å ±
            int totalObjects = ObjectExecutor.GetActiveObjectCount();
            int bulletCount = ObjectExecutor.GetActiveObjectCount&lt;Bullet&gt;();
            
            Utils.DrawString(
                $&quot;Objects: {totalObjects} | Bullets: {bulletCount}&quot;,
                10, 50,
                (255, 255, 0)
            );
            
            // ãƒ—ãƒ¼ãƒ«ã®ä½¿ç”¨çŠ¶æ³
            var poolInfo = ObjectFactory.GetPoolInfo&lt;Bullet&gt;();
            if (poolInfo != null)
            {
                Utils.DrawString(
                    $&quot;Bullet Pool - Active: {poolInfo.ActiveCount}/{poolInfo.PoolSize} | Created: {poolInfo.TotalCreated}&quot;,
                    10, 70,
                    (100, 255, 100)
                );
            }
            
            // FPSè¡¨ç¤º
            Utils.DrawString(
                $&quot;FPS: {FpsCalculator.CurrentFps:F1}&quot;,
                540, 10,
                (0, 255, 0)
            );
        }
    }
}
</code></pre>
<h3 id="4-vanillasettingsyaml---å¼¾ã®è¨­å®šè¿½åŠ ">4. VaNillaSettings.yaml - å¼¾ã®è¨­å®šè¿½åŠ </h3>
<p><code>VaNillaSettings/VaNillaSettings.yaml</code>ã‚’æ›´æ–°ã—ã¾ã™ï¼š</p>
<pre><code class="lang-yaml"># ã‚²ãƒ¼ãƒ ã®åŸºæœ¬è¨­å®š
supreme_arbiter_setting:
  target_fps: 60.0
  window_title: &quot;VaNilla Tutorial - STEP 3&quot;

# ã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚µã‚¤ã‚ºè¨­å®š
window_size:
  - [640, 480]

# ç”»é¢è§£åƒåº¦è¨­å®š  
screen_resolution:
  - [[640, 480], [4, 3]]

# ãƒ“ãƒ¥ãƒ¼ãƒãƒ¼ãƒˆè§£åƒåº¦
viewport_resolution: [640, 480]

# ã‚­ãƒ¼ã‚³ãƒ³ãƒ•ã‚£ã‚°è¨­å®š
key_config:
  Up:
    default_keyboard: Up
  Down:
    default_keyboard: Down
  Left:
    default_keyboard: Left
  Right:
    default_keyboard: Right
  Decide:
    default_keyboard: Z
  Cancel:
    default_keyboard: X

# ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒªã‚½ãƒ¼ã‚¹ã®å®šç¾©
texture_pool:
  Player:
    path: image/player.png
    category: game
    type: full_one_shot
  Bullet:                      # æ–°è¦è¿½åŠ 
    path: image/bullet.png
    category: game
    type: full_one_shot

# ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒªã‚¹ãƒˆã®å®šç¾©
object_list:
  Game:
    object_num: 1
    type: Tutorial.Game
  Player:
    object_num: 10
    type: Tutorial.Player
  Bullet:                      # æ–°è¦è¿½åŠ 
    object_num: 100           # æœ€å¤§100ç™ºã®å¼¾ã‚’ç®¡ç†
    type: Tutorial.Bullet
    create_pool: true         # ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã‚’ä½¿ç”¨

# ã‚¿ã‚¤ãƒãƒ¼è¨­å®š
user_timer:
  - FrameTimer
  - GameTimer

# å®Ÿè¡Œé †åºè¨­å®š
execution_order:
  SCREEN_CLEAR: -50
  EARLY: -10
  NORMAL: 0
  DRAW_NORMAL: 80
  LATE: 130
  PRVILEGE_DRAW: 170
  SCENE_TRANSITION: 180
  SCREEN_RENDER: 190

# ã‚·ãƒ¼ãƒ³å®šç¾©
scene_state:
  Main:
    group: 0
    transit: []

# ã‚³ãƒªã‚¸ãƒ§ãƒ³ã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š
collision_group_settings:
  Default:
    number: 0
    collide_with:
      - Default
</code></pre>
<h3 id="5-å¼¾ç”»åƒã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼">5. å¼¾ç”»åƒã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼</h3>
<p><code>assets/image/bullet_placeholder.txt</code>ã‚’ä½œæˆï¼š</p>
<pre><code class="lang-text">å¼¾ç”»åƒã®ãƒ—ãƒ¬ãƒ¼ã‚¹ãƒ›ãƒ«ãƒ€ãƒ¼
======================

ã“ã“ã« 8x16 ãƒ”ã‚¯ã‚»ãƒ«ã® bullet.png ã‚’é…ç½®ã—ã¦ãã ã•ã„ã€‚

ç°¡å˜ãªç”»åƒã®ä½œæˆæ–¹æ³•ï¼š
1. ãƒšã‚¤ãƒ³ãƒˆã‚½ãƒ•ãƒˆã‚’é–‹ã
2. 8x16ãƒ”ã‚¯ã‚»ãƒ«ã®æ–°è¦ç”»åƒã‚’ä½œæˆ
3. ç™½ã„ç¸¦é•·ã®æ¥•å††ã‚„é•·æ–¹å½¢ã‚’æã
4. bullet.png ã¨ã—ã¦ä¿å­˜

ã‚µãƒ³ãƒ—ãƒ«å½¢çŠ¶ï¼š
  â—‹
  â”‚
  â”‚
</code></pre>
<h2 id="-é‡è¦ãªæ¦‚å¿µ">ğŸ”‘ é‡è¦ãªæ¦‚å¿µ</h2>
<h3 id="objectfactory">ObjectFactory</h3>
<ul>
<li>ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã‚’ä½¿ã£ãŸåŠ¹ç‡çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†</li>
<li><code>Rent&lt;T&gt;()</code>: ãƒ—ãƒ¼ãƒ«ã‹ã‚‰ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’å€Ÿã‚Šã‚‹</li>
<li><code>Return()</code>: ä½¿ã„çµ‚ã‚ã£ãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’ãƒ—ãƒ¼ãƒ«ã«è¿”ã™ï¼ˆè‡ªå‹•ï¼‰</li>
</ul>
<h3 id="fromobjectfactorycreation">FromObjectFactoryCreation</h3>
<ul>
<li>ObjectFactoryã§ç®¡ç†ã•ã‚Œã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã§ã‚ã‚‹ã“ã¨ã‚’ç¤ºã™ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹</li>
<li>ãƒ—ãƒ¼ãƒ«ã«ã‚ˆã‚‹å†åˆ©ç”¨ãŒå¯èƒ½ã«ãªã‚‹</li>
</ul>
<h3 id="screenoutselfdestruction">ScreenOutSelfDestruction</h3>
<ul>
<li>ç”»é¢å¤–ã«å‡ºãŸã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã‚’è‡ªå‹•çš„ã«å‰Šé™¤</li>
<li><code>ScreenMargin</code>: ç”»é¢å¤–åˆ¤å®šã®ãƒãƒ¼ã‚¸ãƒ³ï¼ˆãƒ”ã‚¯ã‚»ãƒ«ï¼‰</li>
</ul>
<h3 id="ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«</h3>
<ol>
<li><code>ObjectFactory.Rent()</code>: ãƒ—ãƒ¼ãƒ«ã‹ã‚‰å–å¾—ã¾ãŸã¯æ–°è¦ä½œæˆ</li>
<li><code>Initialize()</code>: åˆæœŸåŒ–ï¼ˆä½ç½®è¨­å®šãªã©ï¼‰</li>
<li><code>Update()/Draw()</code>: é€šå¸¸ã®æ›´æ–°ãƒ»æç”»</li>
<li>ç”»é¢å¤–ã«å‡ºã‚‹ â†’ <code>OnDeactivate()</code>: éã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–</li>
<li>ãƒ—ãƒ¼ãƒ«ã«è‡ªå‹•è¿”å´</li>
</ol>
<h2 id="-å®Ÿè¡Œã—ã¦ç¢ºèª">ğŸ® å®Ÿè¡Œã—ã¦ç¢ºèª</h2>
<ol>
<li>ã‚¹ãƒšãƒ¼ã‚¹ã‚­ãƒ¼ã§å¼¾ãŒç™ºå°„ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</li>
<li>å¼¾ãŒç”»é¢ä¸Šéƒ¨ã«å‘ã‹ã£ã¦é£›ã‚“ã§ã„ãã“ã¨ã‚’ç¢ºèª</li>
<li>ç”»é¢å¤–ã«å‡ºãŸå¼¾ãŒè‡ªå‹•çš„ã«å‰Šé™¤ã•ã‚Œã‚‹ã“ã¨ã‚’ç¢ºèª</li>
<li>é€£å°„ã—ã¦ã‚‚å‡¦ç†ãŒé‡ããªã‚‰ãªã„ã“ã¨ã‚’ç¢ºèªï¼ˆã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã®åŠ¹æœï¼‰</li>
</ol>
<h2 id="-å­¦ã‚“ã ã“ã¨">ğŸ“ å­¦ã‚“ã ã“ã¨</h2>
<p>âœ… ObjectFactoryã«ã‚ˆã‚‹ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ç®¡ç†<br>
âœ… å‹•çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®ç”Ÿæˆã¨å‰Šé™¤<br>
âœ… ç”»é¢å¤–åˆ¤å®šã¨è‡ªå‹•å‰Šé™¤<br>
âœ… ã‚¿ã‚¤ãƒãƒ¼ã‚’ä½¿ã£ãŸå°„æ’ƒé–“éš”ã®åˆ¶å¾¡<br>
âœ… è¤‡æ•°ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆé–“ã®é€£æº</p>
<h2 id="-ãƒãƒ£ãƒ¬ãƒ³ã‚¸èª²é¡Œ">ğŸ¤” ãƒãƒ£ãƒ¬ãƒ³ã‚¸èª²é¡Œ</h2>
<ol>
<li>å¼¾ã®é€Ÿåº¦ã‚„ç™ºå°„é–“éš”ã‚’èª¿æ•´ã—ã¦ã¿ã¾ã—ã‚‡ã†</li>
<li>3æ–¹å‘ã«å¼¾ã‚’ç™ºå°„ã—ã¦ã¿ã¾ã—ã‚‡ã†</li>
<li>å¼¾ã«å›è»¢ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã‚’è¿½åŠ ã—ã¦ã¿ã¾ã—ã‚‡ã†</li>
<li>ãƒ‘ãƒ¯ãƒ¼ã‚¢ãƒƒãƒ—ã§å¼¾ã®ç¨®é¡ã‚’å¤‰ãˆã¦ã¿ã¾ã—ã‚‡ã†</li>
</ol>
<h2 id="-æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—">â­ï¸ æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—</h2>
<p>STEP 4ã§ã¯ã€ç”»é¢ä¸Šéƒ¨ã‹ã‚‰é™ã£ã¦ãã‚‹æ•µã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ã‚’å®Ÿè£…ã—ã¾ã™ã€‚</p>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/EndlessShirafu/VaNilla/blob/feature/apply-net10-and-csharp14/Documents/docfx/modules/VaNillaTutorial/BasicShootEmUp/STEP3_Shooting/README.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>

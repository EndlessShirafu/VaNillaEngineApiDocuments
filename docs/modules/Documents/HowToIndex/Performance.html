<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
      <title>ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– - é€†å¼•ãã‚¬ã‚¤ãƒ‰ </title>
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <meta name="title" content="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– - é€†å¼•ãã‚¬ã‚¤ãƒ‰ ">
      
      
      <link rel="icon" href="../../../favicon.ico">
      <link rel="stylesheet" href="../../../public/docfx.min.css">
      <link rel="stylesheet" href="../../../public/main.css">
      <meta name="docfx:navrel" content="../../../toc.html">
      <meta name="docfx:tocrel" content="../../../toc.html">
      
      
      
      
      <meta name="docfx:docurl" content="https://github.com/EndlessShirafu/VaNilla/blob/feature/apply-net10-and-csharp14/Documents/docfx/modules/Documents/HowToIndex/Performance.md/#L1">
      <meta name="loc:inThisArticle" content="In this article">
      <meta name="loc:searchResultsCount" content="{count} results for &quot;{query}&quot;">
      <meta name="loc:searchNoResults" content="No results for &quot;{query}&quot;">
      <meta name="loc:tocFilter" content="Filter by title">
      <meta name="loc:nextArticle" content="Next">
      <meta name="loc:prevArticle" content="Previous">
      <meta name="loc:themeLight" content="Light">
      <meta name="loc:themeDark" content="Dark">
      <meta name="loc:themeAuto" content="Auto">
      <meta name="loc:changeTheme" content="Change theme">
      <meta name="loc:copy" content="Copy">
      <meta name="loc:downloadPdf" content="Download PDF">

      <script type="module" src="./../../../public/docfx.min.js"></script>

      <script>
        const theme = localStorage.getItem('theme') || 'auto'
        document.documentElement.setAttribute('data-bs-theme', theme === 'auto' ? (window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light') : theme)
      </script>

  </head>

  <body class="tex2jax_ignore" data-layout="" data-yaml-mime="">
    <header class="bg-body border-bottom">
      <nav id="autocollapse" class="navbar navbar-expand-md" role="navigation">
        <div class="container-xxl flex-nowrap">
          <a class="navbar-brand" href="../../../index.html">
            <img id="logo" class="svg" src="../../../logo.png" alt="">
            
          </a>
          <button class="btn btn-lg d-md-none border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navpanel" aria-controls="navpanel" aria-expanded="false" aria-label="Toggle navigation">
            <i class="bi bi-three-dots"></i>
          </button>
          <div class="collapse navbar-collapse" id="navpanel">
            <div id="navbar">
            </div>
          </div>
        </div>
      </nav>
    </header>

    <main class="container-xxl">

      <div class="content">
        <div class="actionbar">

          <nav id="breadcrumb"></nav>
        </div>

        <article data-uid="">
<h1 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–---é€†å¼•ãã‚¬ã‚¤ãƒ‰">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ– - é€†å¼•ãã‚¬ã‚¤ãƒ‰</h1>

<p>VaNillaã‚¨ãƒ³ã‚¸ãƒ³ã§ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ã‚’å‘ä¸Šã•ã›ã‚‹ãŸã‚ã®æ‰‹æ³•ã¨ã‚µãƒ³ãƒ—ãƒ«ã‚³ãƒ¼ãƒ‰ã®ãƒªãƒ³ã‚¯é›†ã§ã™ã€‚</p>
<h2 id="-ãƒ¡ãƒ¢ãƒªç®¡ç†ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ">ğŸš€ ãƒ¡ãƒ¢ãƒªç®¡ç†ã¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ</h2>
<h3 id="ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã«ã‚ˆã‚‹æœ€é©åŒ–">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ã«ã‚ˆã‚‹æœ€é©åŒ–</h3>
<h4 id="å¤§é‡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åŠ¹ç‡çš„ãªç®¡ç†">å¤§é‡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®åŠ¹ç‡çš„ãªç®¡ç†</h4>
<pre><code class="lang-csharp">// ObjectFactoryã‚’ä½¿ç”¨ã—ãŸåŠ¹ç‡çš„ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç”Ÿæˆ
var bullet = ObjectFactory.Instantiate&lt;BasicObject&gt;();  // ãƒ—ãƒ¼ãƒ«ã‹ã‚‰å–å¾—
// ä½¿ç”¨å¾Œ
ObjectFactory.Terminate(bullet);  // ãƒ—ãƒ¼ãƒ«ã«è¿”å´
</code></pre>
<p>â†’ è©³ç´°: <a href="../../ObjectFactory/README.html">ObjectFactory - ãƒ—ãƒ¼ãƒ«ç®¡ç†ã‚·ã‚¹ãƒ†ãƒ </a></p>
<h4 id="ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°ã®ç›£è¦–">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°ã®ç›£è¦–</h4>
<pre><code class="lang-csharp">// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãªã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°ã‚’å–å¾—
int totalObjects = ObjectExecutor.CurrentRegisteredObjectNum;

// ãƒ—ãƒ¼ãƒ«ä½¿ç”¨çŠ¶æ³ã®ç¢ºèª
int pooledObjects = ObjectFactory.GetObjectNum&lt;BasicObject&gt;();
VaNilla.Debug.Logger.Log($&quot;Total Objects: {totalObjects}, Pooled: {pooledObjects}&quot;);

// å…¨ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®å–å¾—
var allObjects = ObjectExecutor.CurrentObjectSet;
foreach (var obj in allObjects)
{
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆåˆ¥å‡¦ç†
}
</code></pre>
<p>â†’ è©³ç´°: <a href="../../ObjectExecutor/README.html">ObjectExecutor - ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå®Ÿè¡Œç®¡ç†</a></p>
<h3 id="ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ ">ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ </h3>
<h4 id="å›ºå®šå‹ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«">å›ºå®šå‹ãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«</h4>
<pre><code class="lang-csharp">// é«˜é€Ÿãªãƒãƒƒã‚·ãƒ¥ãƒ†ãƒ¼ãƒ–ãƒ«
var hashTable = new FixedTypeKeyHashtable&lt;PlayerData&gt;();
hashTable.Add(playerId, playerData);
var data = hashTable.Get(playerId);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../DataStructure/README.html#fixedtypekeyhashtable">DataStructure - åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿æ§‹é€ </a></p>
<h2 id="-æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹">ğŸ¨ æç”»ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹</h2>
<h3 id="ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–">ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°æœ€é©åŒ–</h3>
<h4 id="ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å†åˆ©ç”¨">ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã®å†åˆ©ç”¨</h4>
<pre><code class="lang-csharp">// ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®å–å¾—
var offscreen = OffScreenResourceManager.GetOffScreenResource(
    OffScreenResourceType.GameBuffer
);

// ç¾åœ¨ã®ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆåˆ‡ã‚Šæ›¿ãˆ
var currentOffScreen = OffScreenManager.GetCurrentOffScreen();
OffScreenManager.SetCurrentOffScreen(offscreen);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../OffScreenResourceManager/README.html">OffScreenResourceManager - ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆç®¡ç†</a></p>
<h4 id="æç”»ã®æœ€é©åŒ–">æç”»ã®æœ€é©åŒ–</h4>
<pre><code class="lang-csharp">// ã‚ªãƒ•ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ãƒãƒƒãƒ•ã‚¡ã®ã‚¯ãƒªã‚¢
OffScreenManager.Clear(offscreen);

// æç”»å¾Œã«ãƒ¬ãƒ³ãƒ€ãƒ¼ã‚¿ãƒ¼ã‚²ãƒƒãƒˆã‚’å…ƒã«æˆ»ã™
OffScreenManager.SetCurrentOffScreen(currentOffScreen);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../OffScreenRenderer/README.html">OffScreenRenderer - åŠ¹ç‡çš„ãªæç”»ç®¡ç†</a></p>
<h3 id="ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼æœ€é©åŒ–">ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼æœ€é©åŒ–</h3>
<h4 id="ã‚«ã‚¹ã‚¿ãƒ ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«ã‚ˆã‚‹é«˜é€ŸåŒ–">ã‚«ã‚¹ã‚¿ãƒ ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã«ã‚ˆã‚‹é«˜é€ŸåŒ–</h4>
<pre><code class="lang-csharp">// åŠ¹ç‡çš„ãªã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ç®¡ç†
var defaultShader = ShaderManager.GetDefaultShader();
var customShader = ShaderManager.GetShader(ShaderEnum.ALPHA);

// ã‚«ã‚¹ã‚¿ãƒ ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ã®ç™»éŒ²
ShaderManager.Register(&quot;CustomOptimized&quot;, myShaderResource);
var optimizedShader = ShaderManager.GetShader(&quot;CustomOptimized&quot;);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../ShaderFactory/README.html">ShaderFactory - ã‚·ã‚§ãƒ¼ãƒ€ãƒ¼ç®¡ç†</a></p>
<h2 id="-å‡¦ç†é€Ÿåº¦æœ€é©åŒ–">âš¡ å‡¦ç†é€Ÿåº¦æœ€é©åŒ–</h2>
<h3 id="è¡çªåˆ¤å®šã®æœ€é©åŒ–">è¡çªåˆ¤å®šã®æœ€é©åŒ–</h3>
<h4 id="ç©ºé–“åˆ†å‰²ã«ã‚ˆã‚‹é«˜é€ŸåŒ–">ç©ºé–“åˆ†å‰²ã«ã‚ˆã‚‹é«˜é€ŸåŒ–</h4>
<pre><code class="lang-csharp">// CollisionCalculatorã®ç©ºé–“åˆ†å‰²è¨­å®š
CollisionCalculator.EnableCollisionReplication = true;

// ç©ºé–“åˆ†å‰²ãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿ï¼ˆè¨­å®šå¯èƒ½ï¼‰
CollisionCalculator.RootSpaceSideLength = 500.0f;  // ãƒ«ãƒ¼ãƒˆç©ºé–“ã‚µã‚¤ã‚º
CollisionCalculator.PartitionTimes = 2;            // åˆ†å‰²å›æ•°

// è¡çªåˆ¤å®šã®å®Ÿè¡Œ
CollisionCalculator.Execute();
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Collision/README.html">Collision - é«˜é€Ÿè¡çªåˆ¤å®š</a></p>
<h4 id="è¡çªã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹åˆ¤å®šå‰Šæ¸›">è¡çªã‚°ãƒ«ãƒ¼ãƒ—ã«ã‚ˆã‚‹åˆ¤å®šå‰Šæ¸›</h4>
<pre><code class="lang-csharp">// å¿…è¦ãªçµ„ã¿åˆã‚ã›ã®ã¿åˆ¤å®š
hasCollision.CollisionType = CollisionGroupID.Player;
// YAMLã§å®šç¾©ã•ã‚ŒãŸã‚°ãƒ«ãƒ¼ãƒ—è¨­å®šã«åŸºã¥ã„ã¦åˆ¤å®šã•ã‚Œã‚‹

// è¡çªæ•°ã®ç›£è¦–
int collisionCount = CollisionCalculator.Count;
int resultCount = CollisionCalculator.ResultCount;
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Collision/README.html">Collision - è¡çªã‚°ãƒ«ãƒ¼ãƒ—è¨­å®š</a></p>
<h3 id="éåŒæœŸå‡¦ç†ã«ã‚ˆã‚‹æœ€é©åŒ–">éåŒæœŸå‡¦ç†ã«ã‚ˆã‚‹æœ€é©åŒ–</h3>
<h4 id="ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†">ãƒãƒƒã‚¯ã‚°ãƒ©ã‚¦ãƒ³ãƒ‰å‡¦ç†</h4>
<pre><code class="lang-csharp">// é‡ã„å‡¦ç†ã‚’éåŒæœŸã§å®Ÿè¡Œ
var task = AsyncRunner.Run(() =&gt; {
    return new VaNillaAsyncTask(() =&gt; {
        // CPUé›†ç´„çš„ãªå‡¦ç†
        return true;
    });
});
await task;
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Task/README.html">Task - éåŒæœŸå‡¦ç†</a></p>
<h4 id="å¾…æ©Ÿå‡¦ç†ã®åŠ¹ç‡åŒ–">å¾…æ©Ÿå‡¦ç†ã®åŠ¹ç‡åŒ–</h4>
<pre><code class="lang-csharp">// ãƒ•ãƒ¬ãƒ¼ãƒ å¾…æ©Ÿ
await new WaitForEndOfFrame();

// æ™‚é–“å¾…æ©Ÿ  
await new WaitForTimeSpanEnd(2.0f);

// æ¡ä»¶å¾…æ©Ÿ
await new WaitUntil(() =&gt; isReady);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Task/README.html">Task - å¾…æ©Ÿå‡¦ç†</a></p>
<h2 id="-ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–">ğŸ“Š ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–</h2>
<h3 id="ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆç›£è¦–">ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆç›£è¦–</h3>
<h4 id="fpsè¨ˆæ¸¬ã¨ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š">FPSè¨ˆæ¸¬ã¨ãƒœãƒˆãƒ«ãƒãƒƒã‚¯ç‰¹å®š</h4>
<pre><code class="lang-csharp">// FPSè¨ˆæ¸¬ã®åˆæœŸåŒ–
FpsCalculator.Initialize(60.0f);  // ç›®æ¨™60FPS

// ãƒ•ãƒ¬ãƒ¼ãƒ æ›´æ–°
FpsCalculator.Update(currentTime);

// FPSå€¤ã®å–å¾—
float currentFps = FpsCalculator.GetFps();
float targetFps = FpsCalculator.GetTargetFps();

// è©³ç´°FPSè¨ˆæ¸¬ã®é–‹å§‹
FpsCalculator.StartMeasurement();
// ã‚²ãƒ¼ãƒ å‡¦ç†...
FpsCalculator.StopMeasurement();

// è©³ç´°FPSæƒ…å ±ã®å–å¾—
float avgFps = FpsCalculator.GetAverageFps();
float maxFps = FpsCalculator.GetMaxFps();
float minFps = FpsCalculator.GetMinFps();
float avgFrameTime = FpsCalculator.GetAverageFrameTimeMs();
</code></pre>
<p>â†’ è©³ç´°: <a href="../../FpsCalculator/README.html">FpsCalculator - ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆç›£è¦–</a></p>
<h3 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬</h3>
<h4 id="åŒ…æ‹¬çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–">åŒ…æ‹¬çš„ãªãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ç›£è¦–</h4>
<pre><code class="lang-csharp">// ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬ã®é–‹å§‹
PerformanceProfiler.StartProfiling();

// ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®ç›£è¦–
long managedMemory = PerformanceProfiler.GetManagedMemoryBytes();
long totalMemory = PerformanceProfiler.GetTotalMemoryBytes();
long privateMemory = PerformanceProfiler.GetPrivateMemoryBytes();

// ã‚¬ãƒ™ãƒ¼ã‚¸ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ã®ç›£è¦–
int gen0Count = PerformanceProfiler.GetGCCount(0);
int gen1Count = PerformanceProfiler.GetGCCount(1);
int gen2Count = PerformanceProfiler.GetGCCount(2);
float lastGCTime = PerformanceProfiler.GetLastGCElapsedTime();

// æç”»å‘¼ã³å‡ºã—æ•°ã®ç›£è¦–
int drawCalls = PerformanceProfiler.GetDrawCallCount();

// ãƒ•ãƒ¬ãƒ¼ãƒ æ™‚é–“ã®ç›£è¦–
float averageFrameTime = PerformanceProfiler.GetAverageFrameTime();

// è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã®å–å¾—
string detailedReport = PerformanceProfiler.GetDetailedReport();
VaNilla.Debug.Logger.Log(detailedReport);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../PerformanceProfiler/README.html">PerformanceProfiler - åŒ…æ‹¬çš„ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨ˆæ¸¬</a></p>
<h4 id="æç”»å‘¼ã³å‡ºã—æ•°ã®ç›£è¦–">æç”»å‘¼ã³å‡ºã—æ•°ã®ç›£è¦–</h4>
<pre><code class="lang-csharp">// ãƒ•ãƒ¬ãƒ¼ãƒ é–‹å§‹æ™‚ã®æç”»å‘¼ã³å‡ºã—æ•°
int frameStartDrawCalls = Renderer.Utils.GetDrawCallCount();

// æç”»å‡¦ç†...
Renderer.Utils.Draw(texture, position);
Renderer.Utils.DrawString(&quot;FPS: &quot; + fps, 10, 10, Color.White);

// ãƒ•ãƒ¬ãƒ¼ãƒ çµ‚äº†æ™‚ã®æç”»å‘¼ã³å‡ºã—æ•°
int frameEndDrawCalls = Renderer.Utils.GetDrawCallCount();
int thisFrameDrawCalls = frameEndDrawCalls - frameStartDrawCalls;
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Renderer/README.html">Renderer - æç”»æœ€é©åŒ–</a></p>
<h2 id="-ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†æœ€é©åŒ–">ğŸ”§ ãƒªã‚½ãƒ¼ã‚¹ç®¡ç†æœ€é©åŒ–</h2>
<h3 id="ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ¡ãƒ¢ãƒªç®¡ç†">ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒ¡ãƒ¢ãƒªç®¡ç†</h3>
<h4 id="åŠ¹ç‡çš„ãªãƒ†ã‚¯ã‚¹ãƒãƒ£èª­ã¿è¾¼ã¿">åŠ¹ç‡çš„ãªãƒ†ã‚¯ã‚¹ãƒãƒ£èª­ã¿è¾¼ã¿</h4>
<pre><code class="lang-csharp">// ãƒ†ã‚¯ã‚¹ãƒãƒ£ã®èª­ã¿è¾¼ã¿çŠ¶æ³ç¢ºèª
bool isLoaded = TextureResourceManager.IsLoadedTextureResource(TextureCategory.Character);

// ã‚«ãƒ†ã‚´ãƒªå˜ä½ã§ã®èª­ã¿è¾¼ã¿
TextureResourceManager.LoadTextureResource(TextureCategory.Character, syncLoad: false);

// ãƒ†ã‚¯ã‚¹ãƒãƒ£ãƒªã‚½ãƒ¼ã‚¹ã®å–å¾—
var texture = TextureResourceManager.GetTextureResource(TextureResourceType.Player);

// ãƒ†ã‚¯ã‚¹ãƒãƒ£æƒ…å ±ã®å–å¾—
var textureInfo = TextureResourceManager.GetTextureInfo(TextureResourceType.Player);

// ä¸è¦ã«ãªã£ãŸã‚‰ãƒªã‚½ãƒ¼ã‚¹è§£æ”¾
TextureResourceManager.DeleteTextureResource(TextureCategory.Character);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../TextureResourceManager/README.html">TextureResourceManager - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡åŒ–</a></p>
<h3 id="ã‚µã‚¦ãƒ³ãƒ‰ãƒ¡ãƒ¢ãƒªç®¡ç†">ã‚µã‚¦ãƒ³ãƒ‰ãƒ¡ãƒ¢ãƒªç®¡ç†</h3>
<h4 id="åŠ¹ç‡çš„ãªã‚µã‚¦ãƒ³ãƒ‰ç®¡ç†">åŠ¹ç‡çš„ãªã‚µã‚¦ãƒ³ãƒ‰ç®¡ç†</h4>
<pre><code class="lang-csharp">// ã‚µã‚¦ãƒ³ãƒ‰ã®èª­ã¿è¾¼ã¿çŠ¶æ³ç¢ºèª
bool isLoaded = SoundResourceManager.IsLoadedSoundResource(SoundCategory.BGM);

// ã‚«ãƒ†ã‚´ãƒªå˜ä½ã§ã®èª­ã¿è¾¼ã¿
SoundResourceManager.LoadSoundResource(SoundCategory.BGM, syncLoad: false);

// éŸ³é‡è¨­å®šã«ã‚ˆã‚‹ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–
SoundResourceManager.SetCategoryVolume(SoundCategory.BGM, 0.8f);
SoundResourceManager.MasterVolume = 1.0f;

// ã‚µã‚¦ãƒ³ãƒ‰å†ç”Ÿ
Sound.Utils.Play(SoundResourceType.MainBGM);
Sound.Utils.FadeInPlay(SoundResourceType.MainBGM, 2.0f);

// ä¸è¦ã«ãªã£ãŸã‚‰ãƒªã‚½ãƒ¼ã‚¹è§£æ”¾
SoundResourceManager.DeleteSoundResource(SoundCategory.BGM);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../SoundManager/README.html">SoundManager - ãƒ¡ãƒ¢ãƒªåŠ¹ç‡çš„ãªéŸ³å£°ç®¡ç†</a></p>
<h2 id="-ç‰¹å®šã‚·ãƒŠãƒªã‚ªã®æœ€é©åŒ–">ğŸ¯ ç‰¹å®šã‚·ãƒŠãƒªã‚ªã®æœ€é©åŒ–</h2>
<h3 id="å¼¾å¹•ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–">å¼¾å¹•ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–</h3>
<h4 id="å¤§é‡å¼¾ã®åŠ¹ç‡çš„ãªç®¡ç†">å¤§é‡å¼¾ã®åŠ¹ç‡çš„ãªç®¡ç†</h4>
<pre><code class="lang-csharp">// å¼¾ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆãƒ—ãƒ¼ãƒ«ä½¿ç”¨çŠ¶æ³ã®ç¢ºèª
int pooledBullets = ObjectFactory.GetObjectNum&lt;BasicObject&gt;();

// å¤§é‡å¼¾ç”Ÿæˆï¼ˆãƒ—ãƒ¼ãƒ«ã‚’æ´»ç”¨ï¼‰
for (int i = 0; i &lt; 1000; i++)
{
    var bullet = ObjectFactory.Instantiate&lt;BasicObject&gt;();
    bullet.SetUp(); // åˆæœŸåŒ–
    // å¼¾ã®è¨­å®š...
}

// ä½¿ç”¨å¾Œã¯ãƒ—ãƒ¼ãƒ«ã«è¿”å´
// ObjectFactory.Terminate(bullet) ã¯å„å¼¾ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«å†…ã§å‘¼ã³å‡ºã—
</code></pre>
<p>â†’ è©³ç´°: <a href="../../ObjectFactory/README.html">ObjectFactory - å¤§é‡ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæœ€é©åŒ–</a></p>
<h3 id="2dã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–">2Dã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–</h3>
<h4 id="ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®æœ€é©åŒ–">ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ã®æœ€é©åŒ–</h4>
<pre><code class="lang-csharp">// ã‚¢ã‚¯ãƒ†ã‚£ãƒ–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°ã®ç›£è¦–
int totalObjects = ObjectExecutor.CurrentRegisteredObjectNum;
if (totalObjects &gt; 500)
{
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°ãŒå¤šã™ãã‚‹å ´åˆã®å‡¦ç†
    VaNilla.Debug.Logger.LogWarning($&quot;é«˜è² è·è­¦å‘Š: {totalObjects} ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆ&quot;);
}

// æ¡ä»¶ä»˜ãã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆå‡¦ç†
var allObjects = ObjectExecutor.CurrentObjectSet;
foreach (var obj in allObjects)
{
    // ç”»é¢å¤–ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆã®éã‚¢ã‚¯ãƒ†ã‚£ãƒ–åŒ–ãªã©
    if (IsOffScreen(obj))
    {
        ObjectExecutor.Unregister(obj);
    }
}
</code></pre>
<h3 id="ç‰©ç†æ¼”ç®—ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–">ç‰©ç†æ¼”ç®—ã‚²ãƒ¼ãƒ ã®æœ€é©åŒ–</h3>
<h4 id="ç‰©ç†æ¼”ç®—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–">ç‰©ç†æ¼”ç®—ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–</h4>
<pre><code class="lang-csharp">// ç‰©ç†ãƒ¯ãƒ¼ãƒ«ãƒ‰ã®è¨­å®šæœ€é©åŒ–ï¼ˆVaNillaSettings.yamlã§è¨­å®šï¼‰
// physics_settings:
//   default_world:
//     velocity_iterations: 6    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ8ã‹ã‚‰å‰Šæ¸›
//     position_iterations: 2    # ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ3ã‹ã‚‰å‰Šæ¸›
//     fixed_time_step: 0.02     # 50FPSç‰©ç†æ›´æ–°

// ç‰©ç†æ¼”ç®—ã®æ¡ä»¶ä»˜ãå®Ÿè¡Œ
// å®Ÿè£…ä¾å­˜ã ãŒã€è·é›¢ã‚„ãƒ•ãƒ©ã‚°ã«ã‚ˆã‚‹æœ€é©åŒ–ãŒå¯èƒ½
</code></pre>
<p>â†’ è©³ç´°: <a href="../../Physics/README.html">Physics - ç‰©ç†æ¼”ç®—æœ€é©åŒ–</a></p>
<h2 id="-ãƒ‡ãƒãƒƒã‚°ã¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°">ğŸ” ãƒ‡ãƒãƒƒã‚°ã¨ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°</h2>
<h3 id="ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‡ãƒãƒƒã‚°">ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ‡ãƒãƒƒã‚°</h3>
<h4 id="ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®è¡¨ç¤º">ãƒ‡ãƒãƒƒã‚°æƒ…å ±ã®è¡¨ç¤º</h4>
<pre><code class="lang-csharp">if (showDebugInfo)
{
    // ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæ•°
    int objects = ObjectExecutor.CurrentRegisteredObjectNum;
    Renderer.Utils.DrawString($&quot;Objects: {objects}&quot;, 10, 10, Color.White);
    
    // FPSæƒ…å ±
    float fps = FpsCalculator.GetFps();
    Renderer.Utils.DrawString($&quot;FPS: {fps:F1}&quot;, 10, 30, Color.White);
    
    // ãƒ¡ãƒ¢ãƒªæƒ…å ±
    long memory = PerformanceProfiler.GetManagedMemoryBytes() / 1024 / 1024;
    Renderer.Utils.DrawString($&quot;Memory: {memory} MB&quot;, 10, 50, Color.White);
    
    // æç”»å‘¼ã³å‡ºã—æ•°
    int drawCalls = PerformanceProfiler.GetDrawCallCount();
    Renderer.Utils.DrawString($&quot;Draw Calls: {drawCalls}&quot;, 10, 70, Color.White);
    
    // è¡çªåˆ¤å®šæ•°
    int collisions = CollisionCalculator.Count;
    Renderer.Utils.DrawString($&quot;Collisions: {collisions}&quot;, 10, 90, Color.White);
}
</code></pre>
<p>â†’ è©³ç´°: <a href="../../DebugUtil/README.html">DebugUtil - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æƒ…å ±è¡¨ç¤º</a></p>
<h4 id="ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°è¨­å®šã®æœ€é©åŒ–">ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°è¨­å®šã®æœ€é©åŒ–</h4>
<pre><code class="lang-csharp">// ã‚µãƒ³ãƒ—ãƒªãƒ³ã‚°é–“éš”ã®èª¿æ•´ï¼ˆãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹å½±éŸ¿ã‚’æœ€å°åŒ–ï¼‰
PerformanceProfiler.SetSamplingInterval(100); // 100msé–“éš”

// å±¥æ­´ã‚µã‚¤ã‚ºã®èª¿æ•´ï¼ˆãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡ã®æœ€é©åŒ–ï¼‰
PerformanceProfiler.SetHistorySize(60); // 60ãƒ•ãƒ¬ãƒ¼ãƒ åˆ†

// è©³ç´°ãƒ¬ãƒãƒ¼ãƒˆã®å®šæœŸå‡ºåŠ›
string report = PerformanceProfiler.GetDetailedReport();
VaNilla.Debug.Logger.Log(report);
</code></pre>
<p>â†’ è©³ç´°: <a href="../../PerformanceProfiler/README.html">PerformanceProfiler - ãƒ—ãƒ­ãƒ•ã‚¡ã‚¤ãƒªãƒ³ã‚°è¨­å®š</a></p>
<hr>
<h2 id="-å‚è€ƒãƒªãƒ³ã‚¯">ğŸ“š å‚è€ƒãƒªãƒ³ã‚¯</h2>
<ul>
<li><a href="../../Collision/Document/memo/performance_memo.md">Collision ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æœ€é©åŒ–ã‚¬ã‚¤ãƒ‰</a></li>
<li><a href="../../ObjectFactory/README.html">ObjectFactory åŠ¹ç‡çš„ãªä½¿ç”¨æ–¹æ³•</a></li>
<li><a href="../../PerformanceProfiler/README.html">PerformanceProfiler åŒ…æ‹¬çš„ãªæ€§èƒ½ç›£è¦–</a></li>
<li><a href="../../FpsCalculator/README.html">FpsCalculator ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¬ãƒ¼ãƒˆæœ€é©åŒ–</a></li>
<li><a href="../VaNillaSettings/README.html">VaNillaSettings.yaml ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹è¨­å®š</a></li>
</ul>

</article>

        <div class="contribution d-print-none">
          <a href="https://github.com/EndlessShirafu/VaNilla/blob/feature/apply-net10-and-csharp14/Documents/docfx/modules/Documents/HowToIndex/Performance.md/#L1" class="edit-link">Edit this page</a>
        </div>

        <div class="next-article d-print-none border-top" id="nextArticle"></div>

      </div>

      <div class="affix">
        <nav id="affix"></nav>
      </div>
    </main>


    <footer class="border-top text-secondary">
      <div class="container-xxl">
        <div class="flex-fill">
          <span>Made with <a href="https://dotnet.github.io/docfx">docfx</a></span>
        </div>
      </div>
    </footer>
  </body>
</html>
